#### 微信小程序模板操作和引用

##### 1.操作

```html
<template name="msgItem">
  <view>
    <text> {{index}}: {{msg}} </text>
    <text> Time: {{time}} </text>
  </view>
</template>
```

```html
<template is="msgItem" data="{{...item}}"/>
```

```js
Page({
  data: {
    item: {
      index: 0,
      msg: 'this is a template',
      time: '2016-09-15'
    }
  }
})
```

- is 属性可以使用 Mustache 语法，来动态决定具体需要渲染哪个模板

```html
<template name="odd">
  <view> odd </view>
</template>
<template name="even">
  <view> even </view>
</template>

<block wx:for="{{[1, 2, 3, 4, 5]}}">
  <template is="{{item % 2 == 0 ? 'even' : 'odd'}}"/>
</block>
```

- demo

```
<!-- 模板定义 -->
<!-- 第一种模板 -->
<template name="studentInfo">
     <view>
		    姓名：{{studentName}}
		 </view>
		 <view>
		     年龄：{{age}}
		 </view>
</template>
  <!-- 第二种模板 -->
	<template name="second-student">
	   <text>name:{{studentName}}</text>
		 <text>name:{{age}}</text>
	</template>

<!-- 模板调用 -->
<view wx:for="{{student}}">

	<template is="{{flag%2 == 0?'studentInfo':'second-student'}}" data='{{...item}}'/>
</view>

```

```
data: {
    flag:3,
    student:[
      {
        studentName:'tom',
        age:'27'
      },
      {
        studentName:'mlisa',
        age:'27'
      },
      {
        studentName:'herry',
        age:'27'
      }
    ],
```

##### 2.引用

![image-20220728110117179](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220728110117179.png)

![image-20220728110132056](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220728110132056.png)

![image-20220728110150133](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220728110150133.png)

## import 的作用域

import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template。

**如：C import B，B import A，在 C 中可以使用 B 定义的`template`，在 B 中可以使用 A 定义的`template`，但是 C 不能使用 A 定义的`template`**。

## 模板的作用域

模板拥有自己的作用域，只能使用 data 传入的数据以及模板定义文件中定义的 `<wxs />` 模块。



## include

`include` 可以将目标文件**除了** `<template/>` `<wxs/>` 外的整个代码引入，相当于是拷贝到 `include` 位置，如：

```html
<!-- index.wxml -->
<include src="header.wxml"/>
<view> body </view>
<include src="footer.wxml"/>
<!-- header.wxml -->
<view> header </view>
<!-- footer.wxml -->
<view> footer </view>
```

include是包含，不能包含template元素 